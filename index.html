<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>闫达</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一直被模仿">
<meta property="og:type" content="website">
<meta property="og:title" content="闫达">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="闫达">
<meta property="og:description" content="一直被模仿">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="闫达">
<meta name="twitter:description" content="一直被模仿">
  
    <link rel="alternate" href="/atom.xml" title="闫达" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">闫达</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">达达</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-跨平台APP-对Cordova-APPCan-DCloud-APICloud四大平台的分析" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/14/跨平台APP-对Cordova-APPCan-DCloud-APICloud四大平台的分析/" class="article-date">
  <time datetime="2016-05-14T00:46:56.000Z" itemprop="datePublished">2016-05-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/14/跨平台APP-对Cordova-APPCan-DCloud-APICloud四大平台的分析/">跨平台APP----对Cordova,APPCan,DCloud,APICloud四大平台的分析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><span>原文转自：<a href="http://blog.csdn.net/tangzenglei/article/details/50668914" target="_blank" rel="external">http://blog.csdn.net/tangzenglei/article/details/50668914</a></span></p>
<p>前言：<br>移动开发是未来一个很重要的IT领域，而跨平台开发将是这一领域最重要的事情。 —-谷震平</p>
<p>兵器谱</p>
<p>在国外，最大的是Cordova（PhoneGap，2011年广泛流行），在2012年12月开源。<br>在国内，按时间顺序，有：</p>
<p>2012年，AppCan<br>2013年，DCloud<br>2014年9月，APICloud<br>二 Cordova</p>
<p>Cordova是Apache软件基金会的一个产品。其前身是PhoneGap，由Nitobi开发，2011年10月，Adobe收够了Nitobi，并且PhoneGap项目也被贡献给Apache软件基金会。Apache在2012年12月，发布了Cordova，截止到2015年12月，最新版面是3.0。<br>该框架的目标用户群体是原生开发者，其设计初衷是希望用户群体能够通过跨平台开发的方法降低原生开发的成本。为此，开发人员需要安装原生开发环境，配置工程，使用HTML5、CSS3、JS和原生SDK生成应用。<br>Cordova的优势很明显，可以使用的框架、原生接口、支持平台都很多。但是，外国人写的东西，公司使用后，出现的技术问题难以解决。同时，其在使用jQuery Mobile、Sencha Touch等前端框架的时候，有特效启动慢、页面切换慢、数据请求慢的特点。</p>
<p>三 APPCan</p>
<p>AppCan成立于2010年，2011年推出产品并测试，2012年正式推出品牌，2013年商业模式成型，2014年开发者注册约70w。AppCan不是开源平台，同时，企业版和部分插件是收费的。换句话说，AppCan只是一个卖软件的商业公司。我们认为：这会对其市场的占有率有着直接影响，闭源而没有垄断，所以前景不会太好。</p>
<p>四 DCloud</p>
<p>DCloud大部分产品开源，W3C会员单位，HTML5中国产业联盟的发起公司之一，在HTML5这个行业有一定的江湖地位。旗下四款产品：HBuilder、5+ Runtime、MUI、流应用都是弥补并扩展HTML5特性的产品。该公司的理念就是解决HTML5的性能、工具、能力三方面的问题。MUI是一款不错的前端框架，性能比 jQuery Mobile、Bootstrap好很多，主要区别：<br>设计思路不同，MUI坚持用原生JS做，不依赖jQuery或者Angularjs。<br>MUI调用了5+ Runtime的底层原生加速，比不带原生加速的框架更快。<br>但是，DCloud毕竟是个新平台，发展才2年，新产品内部存在的Bug还需要很多的测试。在其官方社区中，不少开发者也在呼吁DCloud尽快完善文档和框架。</p>
<p>五 APICloud</p>
<p>APICloud提供原生应用的功能模块（设备访问，界面布局，开放SDK等），开发者可以通过JS调用。前端工程师负责页面布局，UI展现，及简单的交互，原生模块负责性能方面和功能实现，两者结合形成一个完整的应用。同时APICloud提供了云数据库的功能，前端不必了解PHP，Node.js等后端语言，通过JS接口或Restful API实现数据库的增删改查。<br>但是APICloud的更新速度很快，版本不太稳定。而且，它是为不懂APP开发的人士准备的，不适合科技公司和程序员。</p>
<p></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/14/跨平台APP-对Cordova-APPCan-DCloud-APICloud四大平台的分析/" data-id="cipet2b9s00030ns66tms8rpg" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-菜鸟成神宝典" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/11/13/菜鸟成神宝典/" class="article-date">
  <time datetime="2015-11-13T12:18:37.000Z" itemprop="datePublished">2015-11-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/13/菜鸟成神宝典/">菜鸟成神宝典</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><span>其实移动开发开发发展那么多年，无数的前人已经趟过无数的坑，其实菜鸟依旧可以成神，取决于你付出的努力程度，如果你好好静下来看完下面的每一篇文章，并且有一定见解，那么在iOS方面你至少一名中高级的程序员，月薪一定不会低于18K。</span></p>
<p>菜鸟成神必杀技之一：Runtime 各种有用资料的整理，必读精品<br>宇哥推荐你们把这部分读懂，读通，重新定义你的OC世界观</p>
<p>这是南峰子版，笔者读过，很不错</p>
<p>（一）类与对象 <a href="http://blog.jobbole.com/79566/" target="_blank" rel="external">http://blog.jobbole.com/79566/</a><br>（二）成员变量和属性 <a href="http://blog.jobbole.com/79570/" target="_blank" rel="external">http://blog.jobbole.com/79570/</a><br>（三）消息和方法 <a href="http://blog.jobbole.com/79574/" target="_blank" rel="external">http://blog.jobbole.com/79574/</a><br>（四）Method Swizzling <a href="http://blog.jobbole.com/79580/" target="_blank" rel="external">http://blog.jobbole.com/79580/</a><br>（五）协议与分类 <a href="http://blog.jobbole.com/79583/" target="_blank" rel="external">http://blog.jobbole.com/79583/</a><br>（六）补充 <a href="http://blog.jobbole.com/79588/" target="_blank" rel="external">http://blog.jobbole.com/79588/</a><br>当你读完南峰子的，可以看看这个</p>
<p><a href="http://www.jianshu.com/p/e071206103a4" target="_blank" rel="external">http://www.jianshu.com/p/e071206103a4</a><br>深入研究Runtime,当你读完上面的内容，在读以下内容就差不多进入了一个新的境界了</p>
<p><a href="http://www.jianshu.com/users/cb974750735c/latest_articles" target="_blank" rel="external">http://www.jianshu.com/users/cb974750735c/latest_articles</a><br>全方位runtime装逼指南</p>
<p><a href="http://ios.jobbole.com/85092/" target="_blank" rel="external">http://ios.jobbole.com/85092/</a><br>菜鸟成神必杀技之二：内存管理深度剖析，知其然，知其所以然</p>
<p>内存管理教程和原理剖析（一）<a href="http://blog.jobbole.com/66197/" target="_blank" rel="external">http://blog.jobbole.com/66197/</a><br>内存管理教程和原理剖析（二）<a href="http://blog.jobbole.com/66363/" target="_blank" rel="external">http://blog.jobbole.com/66363/</a><br>内存管理教程和原理剖析（三）<a href="http://blog.jobbole.com/66369/" target="_blank" rel="external">http://blog.jobbole.com/66369/</a><br>内存管理教程和原理剖析（四）<a href="http://blog.jobbole.com/66372/" target="_blank" rel="external">http://blog.jobbole.com/66372/</a><br>深浅拷贝 <a href="http://ios.jobbole.com/84859/" target="_blank" rel="external">http://ios.jobbole.com/84859/</a><br>菜鸟成神必杀技之三：多线程，这一块一定要深入理解，因为面试官，尤其是技术总监级别的不一定懂iOS，但是一定懂内存管理和多线程</p>
<p>IOS开发之多线程技术 <a href="http://www.open-open.com/lib/view/open1454495256105.html" target="_blank" rel="external">http://www.open-open.com/lib/view/open1454495256105.html</a><br>多线程总结 ： <a href="http://www.open-open.com/lib/view/open1439907700676.html" target="_blank" rel="external">http://www.open-open.com/lib/view/open1439907700676.html</a><br>多线程详解 ： <a href="http://www.open-open.com/lib/view/open1454028502198.html" target="_blank" rel="external">http://www.open-open.com/lib/view/open1454028502198.html</a><br>必看 <a href="http://ios.jobbole.com/85040/" target="_blank" rel="external">http://ios.jobbole.com/85040/</a><br>10分钟 搞定JS和iOS的交互</p>
<p>你必须先看这篇文章： <a href="http://www.open-open.com/lib/view/open1419305655562.html" target="_blank" rel="external">http://www.open-open.com/lib/view/open1419305655562.html</a><br><a href="http://blog.csdn.net/lizhongfu2013/article/details/9232129" target="_blank" rel="external">http://blog.csdn.net/lizhongfu2013/article/details/9232129</a><br><a href="http://blog.csdn.net/lizhongfu2013/article/details/9236357" target="_blank" rel="external">http://blog.csdn.net/lizhongfu2013/article/details/9236357</a><br>干货好文章 <a href="http://www.jianshu.com/p/a329cd4a67ee" target="_blank" rel="external">http://www.jianshu.com/p/a329cd4a67ee</a><br>干货好文章 <a href="http://ios.jobbole.com/84491/" target="_blank" rel="external">http://ios.jobbole.com/84491/</a><br>交互范例 ：<a href="http://www.open-open.com/lib/view/open1463553967635.html" target="_blank" rel="external">http://www.open-open.com/lib/view/open1463553967635.html</a><br><a href="http://www.open-open.com/lib/view/open1456311816823.html" target="_blank" rel="external">http://www.open-open.com/lib/view/open1456311816823.html</a><br>ios 视频录制的三种方式</p>
<p><a href="http://ios.jobbole.com/85069/" target="_blank" rel="external">http://ios.jobbole.com/85069/</a><br>直播相关内容</p>
<p><a href="https://mp.weixin.qq.com/s?__biz=MzA4MjI0NjczNQ==&amp;mid=2652365086&amp;idx=1&amp;sn=e5ab2d6a641102ec9e2b5c175678a797&amp;scene=1&amp;srcid=05223KqAHcjMGjh83QqLXOVc&amp;key=f5c31ae61525f82e0b29fa654e701eb5165093fa979d25fc601a34874dce01f520a124dfdd113d992d0e3e86eeba9e74&amp;ascene=0&amp;uin=MTk5NDM1NQ%3D%3D&amp;devicetype=iMac+MacBookPro11%2C5+OSX+OSX+10.11.4+build(15E65)&amp;version=11020201&amp;pass_ticket=2vSvVDILehoRZdj1MGS0qpcfIh%2FXnQ0HhKl3H3arUtQ%3D" target="_blank" rel="external">https://mp.weixin.qq.com/s?__biz=MzA4MjI0NjczNQ==&amp;mid=2652365086&amp;idx=1&amp;sn=e5ab2d6a641102ec9e2b5c175678a797&amp;scene=1&amp;srcid=05223KqAHcjMGjh83QqLXOVc&amp;key=f5c31ae61525f82e0b29fa654e701eb5165093fa979d25fc601a34874dce01f520a124dfdd113d992d0e3e86eeba9e74&amp;ascene=0&amp;uin=MTk5NDM1NQ%3D%3D&amp;devicetype=iMac+MacBookPro11%2C5+OSX+OSX+10.11.4+build(15E65)&amp;version=11020201&amp;pass_ticket=2vSvVDILehoRZdj1MGS0qpcfIh%2FXnQ0HhKl3H3arUtQ%3D</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA4MjI0NjczNQ==&amp;mid=2652365088&amp;idx=2&amp;sn=86e62f2ab415df27c5bba3ba171cdd54&amp;scene=1&amp;srcid=0522CBTRcjmmWfV4s8o68w4w&amp;key=f5c31ae61525f82e3f37b74d7b115678e9ed2553afb3551ea0f3dc8f920e72a918db4844d4530d8c00608ca91a21700a&amp;ascene=0&amp;uin=MTk5NDM1NQ%3D%3D&amp;devicetype=iMac+MacBookPro11%2C5+OSX+OSX+10.11.4+build(15E65)&amp;version=11020201&amp;pass_ticket=2vSvVDILehoRZdj1MGS0qpcfIh%2FXnQ0HhKl3H3arUtQ%3D" target="_blank" rel="external">https://mp.weixin.qq.com/s?__biz=MzA4MjI0NjczNQ==&amp;mid=2652365088&amp;idx=2&amp;sn=86e62f2ab415df27c5bba3ba171cdd54&amp;scene=1&amp;srcid=0522CBTRcjmmWfV4s8o68w4w&amp;key=f5c31ae61525f82e3f37b74d7b115678e9ed2553afb3551ea0f3dc8f920e72a918db4844d4530d8c00608ca91a21700a&amp;ascene=0&amp;uin=MTk5NDM1NQ%3D%3D&amp;devicetype=iMac+MacBookPro11%2C5+OSX+OSX+10.11.4+build(15E65)&amp;version=11020201&amp;pass_ticket=2vSvVDILehoRZdj1MGS0qpcfIh%2FXnQ0HhKl3H3arUtQ%3D</a></p>
<p>那些著名或非著名的iOS面试题</p>
<p>（上）<a href="http://www.open-open.com/lib/view/open1460681498043.html" target="_blank" rel="external">http://www.open-open.com/lib/view/open1460681498043.html</a><br>（中）<a href="http://www.open-open.com/lib/view/open1460681420544.html" target="_blank" rel="external">http://www.open-open.com/lib/view/open1460681420544.html</a><br>（下）<a href="http://www.open-open.com/lib/view/open1460682694966.html" target="_blank" rel="external">http://www.open-open.com/lib/view/open1460682694966.html</a><br><a href="http://ios.jobbole.com/84919/" target="_blank" rel="external">http://ios.jobbole.com/84919/</a><br>一个靠谱工程师必须会的面试题：<br>必看精品<br><a href="https://github.com/ChenYilong/iOSInterviewQuestions/blob/master/01%E3%80%8A%E6%8B%9B%E8%81%98%E4%B8%80%E4%B8%AA%E9%9D%A0%E8%B0%B1%E7%9A%84iOS%E3%80%8B%E9%9D%A2%E8%AF%95%E9%A2%98%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88/%E3%80%8A%E6%8B%9B%E8%81%98%E4%B8%80%E4%B8%AA%E9%9D%A0%E8%B0%B1%E7%9A%84iOS%E3%80%8B%E9%9D%A2%E8%AF%95%E9%A2%98%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88%EF%BC%88%E4%B8%8A%EF%BC%89.md" target="_blank" rel="external">https://github.com/ChenYilong/iOSInterviewQuestions/blob/master/01%E3%80%8A%E6%8B%9B%E8%81%98%E4%B8%80%E4%B8%AA%E9%9D%A0%E8%B0%B1%E7%9A%84iOS%E3%80%8B%E9%9D%A2%E8%AF%95%E9%A2%98%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88/%E3%80%8A%E6%8B%9B%E8%81%98%E4%B8%80%E4%B8%AA%E9%9D%A0%E8%B0%B1%E7%9A%84iOS%E3%80%8B%E9%9D%A2%E8%AF%95%E9%A2%98%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88%EF%BC%88%E4%B8%8A%EF%BC%89.md</a><br>必看精品<br><a href="https://github.com/ChenYilong/iOSInterviewQuestions/blob/master/01%E3%80%8A%E6%8B%9B%E8%81%98%E4%B8%80%E4%B8%AA%E9%9D%A0%E8%B0%B1%E7%9A%84iOS%E3%80%8B%E9%9D%A2%E8%AF%95%E9%A2%98%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88/%E3%80%8A%E6%8B%9B%E8%81%98%E4%B8%80%E4%B8%AA%E9%9D%A0%E8%B0%B1%E7%9A%84iOS%E3%80%8B%E9%9D%A2%E8%AF%95%E9%A2%98%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88%EF%BC%88%E4%B8%8B%EF%BC%89.md" target="_blank" rel="external">https://github.com/ChenYilong/iOSInterviewQuestions/blob/master/01%E3%80%8A%E6%8B%9B%E8%81%98%E4%B8%80%E4%B8%AA%E9%9D%A0%E8%B0%B1%E7%9A%84iOS%E3%80%8B%E9%9D%A2%E8%AF%95%E9%A2%98%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88/%E3%80%8A%E6%8B%9B%E8%81%98%E4%B8%80%E4%B8%AA%E9%9D%A0%E8%B0%B1%E7%9A%84iOS%E3%80%8B%E9%9D%A2%E8%AF%95%E9%A2%98%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88%EF%BC%88%E4%B8%8B%EF%BC%89.md</a><br>必看精品<br><a href="http://www.open-open.com/lib/view/open1382923236124.html" target="_blank" rel="external">http://www.open-open.com/lib/view/open1382923236124.html</a><br>必看精品（从简单到复杂的面试题）<br><a href="http://www.open-open.com/lib/view/open1440165855942.html" target="_blank" rel="external">http://www.open-open.com/lib/view/open1440165855942.html</a><br>优酷的面试题 ：<a href="http://www.open-open.com/lib/view/open1457952546563.html" target="_blank" rel="external">http://www.open-open.com/lib/view/open1457952546563.html</a><br>宝库的面试题 ： <a href="http://www.open-open.com/lib/view/open1456359620073.html" target="_blank" rel="external">http://www.open-open.com/lib/view/open1456359620073.html</a></p>
<p></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/11/13/菜鸟成神宝典/" data-id="cipet2b9n00010ns6gwooz7fx" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="ios：-FMDB" class="article article-type-ios：" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/14/FMDB/" class="article-date">
  <time datetime="2015-06-14T14:02:31.000Z" itemprop="datePublished">2015-06-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/14/FMDB/">FMDB</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在iOS 开发中，总会用到数据库的操作，来实现增、删、改、查。 尤其是查询。 一旦涉及到查询的操作，那就非得用数据库不可了。</p>
<p>SQLite （<a href="http://www.sqlite.org/docs.html）" target="_blank" rel="external">http://www.sqlite.org/docs.html）</a> 是一个轻量级的关系数据库。 iOS SDK 从诞生之日起就支持SQLite。 在使用时，只需要加入  libsqlite3.dylib ，并引入 sqlite3.h 头文件即可。 但是，原生的SQLite API 在使用上 非常不便，于是，开源社区就出现了一系列的 将SQLite API 进行封装的库，而FMDB  （<a href="https://github.com/ccgus/fmdb" target="_blank" rel="external">https://github.com/ccgus/fmdb</a>) 则是开源社区中的佼佼者。</p>
<p>实现步骤：</p>
<ol>
<li>将FMDB 从 <a href="https://github.com/ccgus/fmdb" target="_blank" rel="external">https://github.com/ccgus/fmdb</a> 下载下来。 </li>
</ol>
<p>Usage<br>There are three main classes in FMDB:</p>
<p>FMDatabase - Represents a single SQLite database. Used for executing SQL statements.<br>FMResultSet - Represents the results of executing a query on an FMDatabase.<br>FMDatabaseQueue - If you’re wanting to perform queries and updates on multiple threads, you’ll want to use this class. It’s described in the “Thread Safety” section below.<br>Database Creation</p>
<p>An FMDatabase is created with a path to a SQLite database file. This path can be one of these three:</p>
<p>A file system path. The file does not have to exist on disk. If it does not exist, it is created for you.<br>An empty string (@””). An empty database is created at a temporary location. This database is deleted with the FMDatabase connection is closed.<br>NULL. An in-memory database is created. This database will be destroyed with the FMDatabaseconnection is closed.<br>(For more information on temporary and in-memory databases, read the sqlite documentation on the subject: <a href="http://www.sqlite.org/inmemorydb.html" target="_blank" rel="external">http://www.sqlite.org/inmemorydb.html</a>)</p>
<p>FMDatabase *db = [FMDatabase databaseWithPath:@”/tmp/tmp.db”];<br>Opening</p>
<p>Before you can interact with the database, it must be opened. Opening fails if there are insufficient resources or permissions to open and/or create the database.</p>
<p>if (![db open]) {<br>[db release];<br>return;<br>}<br>Executing Updates</p>
<p>Any sort of SQL statement which is not a SELECT statement qualifies as an update. This includesCREATE, UPDATE, INSERT, ALTER, COMMIT, BEGIN, DETACH, DELETE, DROP, END, EXPLAIN, VACUUM, and REPLACE statements (plus many more). Basically, if your SQL statement does not begin withSELECT, it is an update statement.</p>
<p>Executing updates returns a single value, a BOOL. A return value of YES means the update was successfully executed, and a return value of NO means that some error was encountered. You may invoke the -lastErrorMessage and -lastErrorCode methods to retrieve more information.</p>
<p>Executing Queries</p>
<p>A SELECT statement is a query and is executed via one of the -executeQuery… methods.</p>
<p>Executing queries returns an FMResultSet object if successful, and nil upon failure. Like executing updates, there is a variant that accepts an NSError ** parameter. Otherwise you should use the -lastErrorMessage and -lastErrorCode methods to determine why a query failed.</p>
<p>In order to iterate through the results of your query, you use a while() loop. You also need to “step” from one record to the other. With FMDB, the easiest way to do that is like this:</p>
<p>FMResultSet <em>s = [db executeQuery:@”SELECT </em> FROM myTable”];<br>while ([s next]) {<br>//retrieve values for each record<br>}<br>You must always invoke -[FMResultSet next] before attempting to access the values returned in a query, even if you’re only expecting one:</p>
<p>FMResultSet <em>s = [db executeQuery:@”SELECT COUNT(</em>) FROM myTable”];<br>if ([s next]) {<br>int totalCount = [s intForColumnIndex:0];<br>}<br>FMResultSet has many methods to retrieve data in an appropriate format:</p>
<p>intForColumn:<br>longForColumn:<br>longLongIntForColumn:<br>boolForColumn:<br>doubleForColumn:<br>stringForColumn:<br>dateForColumn:<br>dataForColumn:<br>dataNoCopyForColumn:<br>UTF8StringForColumnName:<br>objectForColumnName:<br>Each of these methods also has a {type}ForColumnIndex: variant that is used to retrieve the data based on the position of the column in the results, as opposed to the column’s name.</p>
<p>Typically, there’s no need to -close an FMResultSet yourself, since that happens when either the result set is deallocated, or the parent database is closed.</p>
<p>Closing</p>
<p>When you have finished executing queries and updates on the database, you should -close theFMDatabase connection so that SQLite will relinquish any resources it has acquired during the course of its operation.</p>
<p>[db close];<br>Transactions</p>
<p>FMDatabase can begin and commit a transaction by invoking one of the appropriate methods or executing a begin/end transaction statement.</p>
<p>Multiple Statements and Batch Stuff</p>
<p>You can use FMDatabase’s executeStatements:withResultBlock: to do multiple statements in a string:</p>
<p>NSString *sql = @”create table bulktest1 (id integer primary key autoincrement, x text);”<br>“create table bulktest2 (id integer primary key autoincrement, y text);”<br>“create table bulktest3 (id integer primary key autoincrement, z text);”<br>“insert into bulktest1 (x) values (‘XXX’);”<br>“insert into bulktest2 (y) values (‘YYY’);”<br>“insert into bulktest3 (z) values (‘ZZZ’);”;</p>
<p>success = [db executeStatements:sql];</p>
<p>sql = @”select count(<em>) as count from bulktest1;”<br>“select count(</em>) as count from bulktest2;”<br>“select count(*) as count from bulktest3;”;</p>
<p>success = [self.db executeStatements:sql withResultBlock:^int(NSDictionary *dictionary) {<br>NSInteger count = [dictionary[@”count”] integerValue];<br>XCTAssertEqual(count, 1, @”expected one record for dictionary %@”, dictionary);<br>return 0;<br>}];</p>
<p>Data Sanitization</p>
<p>When providing a SQL statement to FMDB, you should not attempt to “sanitize” any values before insertion. Instead, you should use the standard SQLite binding syntax:</p>
<p>INSERT INTO myTable VALUES (?, ?, ?)<br>The ? character is recognized by SQLite as a placeholder for a value to be inserted. The execution methods all accept a variable number of arguments (or a representation of those arguments, such as an NSArray, NSDictionary, or a va_list), which are properly escaped for you.</p>
<p>Alternatively, you may use named parameters syntax:</p>
<p>INSERT INTO myTable VALUES (:id, :name, :value)<br>The parameters must start with a colon. SQLite itself supports other characters, but internally the Dictionary keys are prefixed with a colon, do not include the colon in your dictionary keys.</p>
<p>NSDictionary *argsDict = [NSDictionary dictionaryWithObjectsAndKeys:@”My Name”, @”name”, nil];<br>[db executeUpdate:@”INSERT INTO myTable (name) VALUES (:name)” withParameterDictionary:argsDict];<br>Thus, you SHOULD NOT do this (or anything like this):</p>
<p>[db executeUpdate:[NSString stringWithFormat:@”INSERT INTO myTable VALUES (%@)”, @”this has \” lots of ‘ bizarre \” quotes ‘“]];<br>Instead, you SHOULD do:</p>
<p>[db executeUpdate:@”INSERT INTO myTable VALUES (?)”, @”this has \” lots of ‘ bizarre \” quotes ‘“];<br>All arguments provided to the -executeUpdate: method (or any of the variants that accept a va_listas a parameter) must be objects. The following will not work (and will result in a crash):</p>
<p>[db executeUpdate:@”INSERT INTO myTable VALUES (?)”, 42];<br>The proper way to insert a number is to box it in an NSNumber object:</p>
<p>[db executeUpdate:@”INSERT INTO myTable VALUES (?)”, [NSNumber numberWithInt:42]];<br>Alternatively, you can use the -execute*WithFormat: variant to use NSString-style substitution:</p>
<p>[db executeUpdateWithFormat:@”INSERT INTO myTable VALUES (%d)”, 42];<br>Internally, the -execute*WithFormat: methods are properly boxing things for you. The following percent modifiers are recognized: %@, %c, %s, %d, %D, %i, %u, %U, %hi, %hu, %qi, %qu, %f,%g, %ld, %lu, %lld, and %llu. Using a modifier other than those will have unpredictable results. If, for some reason, you need the % character to appear in your SQL statement, you should use %%.</p>
<p>Using FMDatabaseQueue and Thread Safety.</p>
<p>Using a single instance of FMDatabase from multiple threads at once is a bad idea. It has always been OK to make a FMDatabase object per thread. Just don’t share a single instance across threads, and definitely not across multiple threads at the same time. Bad things will eventually happen and you’ll eventually get something to crash, or maybe get an exception, or maybe meteorites will fall out of the sky and hit your Mac Pro. This would suck.</p>
<p>So don’t instantiate a single FMDatabase object and use it across multiple threads.</p>
<p>Instead, use FMDatabaseQueue. It’s your friend and it’s here to help. Here’s how to use it:</p>
<p>First, make your queue.</p>
<p>FMDatabaseQueue *queue = [FMDatabaseQueue databaseQueueWithPath:aPath];<br>Then use it like so:</p>
<p>[queue inDatabase:^(FMDatabase *db) {<br>[db executeUpdate:@”INSERT INTO myTable VALUES (?)”, [NSNumber numberWithInt:1]];<br>[db executeUpdate:@”INSERT INTO myTable VALUES (?)”, [NSNumber numberWithInt:2]];<br>[db executeUpdate:@”INSERT INTO myTable VALUES (?)”, [NSNumber numberWithInt:3]];</p>
<p>FMResultSet <em>rs = [db executeQuery:@”select </em> from foo”];<br>while ([rs next]) {<br>…<br>}<br>}];<br>An easy way to wrap things up in a transaction can be done like this:</p>
<p>[queue inTransaction:^(FMDatabase <em>db, BOOL </em>rollback) {<br>[db executeUpdate:@”INSERT INTO myTable VALUES (?)”, [NSNumber numberWithInt:1]];<br>[db executeUpdate:@”INSERT INTO myTable VALUES (?)”, [NSNumber numberWithInt:2]];<br>[db executeUpdate:@”INSERT INTO myTable VALUES (?)”, [NSNumber numberWithInt:3]];</p>
<p>if (whoopsSomethingWrongHappened) {<br>*rollback = YES;<br>return;<br>}<br>// etc…<br>[db executeUpdate:@”INSERT INTO myTable VALUES (?)”, [NSNumber numberWithInt:4]];<br>}];<br>FMDatabaseQueue will run the blocks on a serialized queue (hence the name of the class). So if you call FMDatabaseQueue’s methods from multiple threads at the same time, they will be executed in the order they are received. This way queries and updates won’t step on each other’s toes, and every one is happy.</p>
<p>Note: The calls to FMDatabaseQueue’s methods are blocking. So even though you are passing along blocks, they will not be run on another thread.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/06/14/FMDB/" data-id="cipet2b9p00020ns6l4a73opm" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hexo搭建方案（一）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/13/hexo搭建方案（一）/" class="article-date">
  <time datetime="2015-04-13T01:19:55.000Z" itemprop="datePublished">2015-04-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/13/hexo搭建方案（一）/">hexo搭建方案（一）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><span>第一步<br>安装nvm（Node Version Manager），Terminal中运行</span></p>
<p>1<br>$ curl <a href="https://raw.githubusercontent.com/creationix/nvm/v0.7.0/install.sh" target="_blank" rel="external">https://raw.githubusercontent.com/creationix/nvm/v0.7.0/install.sh</a> | sh<br>会提示：</p>
<p>1<br>=&gt; Close and reopen your terminal to start using NVM<br>退出Terminal重启后nvm命令才能生效。假如update失败，可能没有profile文件，touch一下：</p>
<p>1<br>2<br>touch ~/.bash_profile<br>touch ~/.profile<br>使用nvm安装node.js：</p>
<p>1<br>nvm install 0.10<br>下完后安装hexo，这一步时间比较长：</p>
<p>1<br>npm install -g hexo<br>然后找个文件初始化blog：</p>
<p>1<br>2<br>3<br>cd ~/git/blog<br>hexo init .<br>ls<br>[update]更新hexo2版本后安装还需要执行：</p>
<p>1<br>2<br>3<br>$ npm install hexo-renderer-ejs –save<br>$ npm install hexo-renderer-stylus –save<br>$ npm install hexo-renderer-marked –save<br>生成出的目录结构：</p>
<p>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>.<br>├── _config.yml<br>├── package.json<br>├── scaffolds<br>├── scripts<br>├── source<br>|   ├── _drafts<br>|   └── _posts<br>└── themes<br>新建一篇文章：</p>
<p>hexo new mac下使用hexo搭建blog</p>
<p>open source/_posts/mac下使用hexo搭建blog.md</p>
<p>编辑md后生成html：</p>
<p>$ hexo generate<br>本地预览：<br>$ hexo server<br>=&gt; [info] Hexo is running at localhost:4000/. Press Ctrl+C to stop.</p>
<p>deploy<br>github上建个respository，设置里设一下<br>在_config.yml中：</p>
<p>1<br>2<br>3<br>deploy:<br>type: github<br>repository: <a href="https://github.com/sunnyxx/blog-hexo.git" target="_blank" rel="external">https://github.com/sunnyxx/blog-hexo.git</a><br>然后执行：<br>$ hexo deploy</p>
<p>就行了，github会多一个branch，比octopress简单</p>
<p>参考文献：</p>
<p>1<br>2<br>3<br>4<br><a href="http://opiece.me/2015/04/09/hexo-guide/" target="_blank" rel="external">http://opiece.me/2015/04/09/hexo-guide/</a><br><a href="http://www.jianshu.com/p/465830080ea9" target="_blank" rel="external">http://www.jianshu.com/p/465830080ea9</a><br><a href="http://www.jianshu.com/p/a2023a601ceb" target="_blank" rel="external">http://www.jianshu.com/p/a2023a601ceb</a><br><a href="https://hexo.io/zh-cn/" target="_blank" rel="external">https://hexo.io/zh-cn/</a><br></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/04/13/hexo搭建方案（一）/" data-id="cipet2b8w00000ns6mk37o0yo" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/14/跨平台APP-对Cordova-APPCan-DCloud-APICloud四大平台的分析/">跨平台APP----对Cordova,APPCan,DCloud,APICloud四大平台的分析</a>
          </li>
        
          <li>
            <a href="/2015/11/13/菜鸟成神宝典/">菜鸟成神宝典</a>
          </li>
        
          <li>
            <a href="/2015/06/14/FMDB/">FMDB</a>
          </li>
        
          <li>
            <a href="/2015/04/13/hexo搭建方案（一）/">hexo搭建方案（一）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 John Doe<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>